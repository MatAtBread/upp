@define transform_if() {
    upp.withMatch(upp.root, "if ($cond) $then;", ({ cond, then }) => {
        if (then.type !== 'compound_statement') {
            return upp.codeTree`if (${cond}) { ${then} }`;
        }
    });
}

@transform_if()

int main() {
    if (1) return 0;
    if (2) {
        return 0;
    }
}
